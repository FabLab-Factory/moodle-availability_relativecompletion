if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/moodle-availability_relativecompletion-form/moodle-availability_relativecompletion-form.js']) {
   __coverage__['build/moodle-availability_relativecompletion-form/moodle-availability_relativecompletion-form.js'] = {"path":"build/moodle-availability_relativecompletion-form/moodle-availability_relativecompletion-form.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":55},"end":{"line":1,"column":74}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":51},"end":{"line":22,"column":89}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":49},"end":{"line":28,"column":64}}},"4":{"name":"(anonymous_4)","line":94,"loc":{"start":{"line":94,"column":32},"end":{"line":94,"column":43}}},"5":{"name":"(anonymous_5)","line":103,"loc":{"start":{"line":103,"column":51},"end":{"line":103,"column":73}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":109,"column":90}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":76}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":78}},"4":{"start":{"line":22,"column":0},"end":{"line":26,"column":2}},"5":{"start":{"line":23,"column":4},"end":{"line":23,"column":19}},"6":{"start":{"line":24,"column":1},"end":{"line":24,"column":28}},"7":{"start":{"line":25,"column":1},"end":{"line":25,"column":36}},"8":{"start":{"line":28,"column":0},"end":{"line":101,"column":2}},"9":{"start":{"line":30,"column":4},"end":{"line":33,"column":140}},"10":{"start":{"line":35,"column":1},"end":{"line":39,"column":2}},"11":{"start":{"line":36,"column":2},"end":{"line":36,"column":121}},"12":{"start":{"line":38,"column":2},"end":{"line":38,"column":120}},"13":{"start":{"line":41,"column":1},"end":{"line":59,"column":2}},"14":{"start":{"line":42,"column":6},"end":{"line":50,"column":39}},"15":{"start":{"line":52,"column":3},"end":{"line":58,"column":39}},"16":{"start":{"line":61,"column":1},"end":{"line":78,"column":2}},"17":{"start":{"line":62,"column":2},"end":{"line":62,"column":23}},"18":{"start":{"line":63,"column":2},"end":{"line":67,"column":3}},"19":{"start":{"line":64,"column":3},"end":{"line":64,"column":119}},"20":{"start":{"line":66,"column":3},"end":{"line":66,"column":118}},"21":{"start":{"line":69,"column":2},"end":{"line":77,"column":3}},"22":{"start":{"line":70,"column":3},"end":{"line":74,"column":4}},"23":{"start":{"line":71,"column":4},"end":{"line":71,"column":106}},"24":{"start":{"line":73,"column":4},"end":{"line":73,"column":99}},"25":{"start":{"line":76,"column":3},"end":{"line":76,"column":104}},"26":{"start":{"line":80,"column":1},"end":{"line":80,"column":75}},"27":{"start":{"line":82,"column":1},"end":{"line":84,"column":5}},"28":{"start":{"line":83,"column":8},"end":{"line":83,"column":71}},"29":{"start":{"line":86,"column":4},"end":{"line":88,"column":5}},"30":{"start":{"line":87,"column":8},"end":{"line":87,"column":61}},"31":{"start":{"line":91,"column":4},"end":{"line":98,"column":5}},"32":{"start":{"line":92,"column":8},"end":{"line":92,"column":66}},"33":{"start":{"line":93,"column":8},"end":{"line":93,"column":48}},"34":{"start":{"line":94,"column":8},"end":{"line":97,"column":54}},"35":{"start":{"line":96,"column":12},"end":{"line":96,"column":46}},"36":{"start":{"line":100,"column":4},"end":{"line":100,"column":16}},"37":{"start":{"line":103,"column":0},"end":{"line":106,"column":2}},"38":{"start":{"line":104,"column":1},"end":{"line":104,"column":75}},"39":{"start":{"line":105,"column":4},"end":{"line":105,"column":68}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":36},"end":{"line":8,"column":69}},{"start":{"line":8,"column":73},"end":{"line":8,"column":75}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},{"start":{"line":35,"column":1},"end":{"line":35,"column":1}}]},"3":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},{"start":{"line":41,"column":1},"end":{"line":41,"column":1}}]},"4":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},{"start":{"line":61,"column":1},"end":{"line":61,"column":1}}]},"5":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":2},"end":{"line":63,"column":2}},{"start":{"line":63,"column":2},"end":{"line":63,"column":2}}]},"6":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":2},"end":{"line":69,"column":2}},{"start":{"line":69,"column":2},"end":{"line":69,"column":2}}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":3},"end":{"line":70,"column":3}},{"start":{"line":70,"column":3},"end":{"line":70,"column":3}}]},"8":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},{"start":{"line":82,"column":1},"end":{"line":82,"column":1}}]},"9":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":4}},{"start":{"line":86,"column":4},"end":{"line":86,"column":4}}]},"10":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]}},"code":["(function () { YUI.add('moodle-availability_relativecompletion-form', function (Y, NAME) {","","/**\r"," * JavaScript for form editing completion conditions.\r"," *\r"," * @module moodle-availability_relativecompletion-form\r"," */\r","M.availability_relativecompletion = M.availability_relativecompletion || {};\r","\r","/**\r"," * @class M.availability_relativecompletion.form\r"," * @extends M.core_availability.plugin\r"," */\r","M.availability_relativecompletion.form = Y.Object(M.core_availability.plugin);\r","\r","/**\r"," * Initialises this plugin.\r"," *\r"," * @method initInner\r"," * @param {Array} cms Array of objects containing cmid => name\r"," */\r","M.availability_relativecompletion.form.initInner = function(cms,isSection,isNewActivity) {\r","    this.cms = cms;\r","\tthis.isSection = isSection;\r","\tthis.isNewActivity = isNewActivity;\r","};\r","\r","M.availability_relativecompletion.form.getNode = function(json) {\r","    // Create HTML structure.\r","    var html = '<span class=\"col-form-label p-r-1\"> ' + M.util.get_string('title', 'availability_relativecompletion') + '</span>' +\r","               ' <span class=\"availability-group form-group\"><label>' +\r","            '<span class=\"accesshide\">' + M.util.get_string('label_cm', 'availability_relativecompletion') + ' </span>' +\r","            '<select class=\"custom-select\" name=\"idtype\" title=\"' + M.util.get_string('label_cm', 'availability_relativecompletion') + '\">';\r","\r","\tif(!this.isSection){\r","\t\thtml += '<option value=\"1\">' + M.util.get_string('previous_activity', 'availability_relativecompletion') + '</option>';\r","\t} else {\r","\t\thtml += '<option value=\"0\">' + M.util.get_string('previous_section', 'availability_relativecompletion') + '</option>';\r","\t}\r","\t\t\r","\tif (!this.isSection){\r","\t\t    html += '</select></label> <label><span class=\"accesshide\">' +\r","                M.util.get_string('label_completion', 'availability_relativecompletion') +\r","            ' </span><select class=\"custom-select\" ' +\r","                            'name=\"e\" title=\"' + M.util.get_string('label_completion', 'availability_relativecompletion') + '\">' +\r","            '<option value=\"1\">' + M.util.get_string('option_complete', 'availability_relativecompletion') + '</option>' +\r","            '<option value=\"0\">' + M.util.get_string('option_incomplete', 'availability_relativecompletion') + '</option>' +\r","            '<option value=\"2\">' + M.util.get_string('option_pass', 'availability_relativecompletion') + '</option>' +\r","            '<option value=\"3\">' + M.util.get_string('option_fail', 'availability_relativecompletion') + '</option>' +\r","            '</select></label></span>';\r","\t} else {\r","\t\t\thtml += '</select></label> <label><span class=\"accesshide\">' +\r","                M.util.get_string('label_completion', 'availability_relativecompletion') +\r","            ' </span><select class=\"custom-select\" ' +\r","                            'name=\"e\" title=\"' + M.util.get_string('label_completion', 'availability_relativecompletion') + '\">' +\r","            '<option value=\"0\">' + M.util.get_string('all_activities', 'availability_relativecompletion') + '</option>' +\r","\t\t\t'<option value=\"1\">' + M.util.get_string('one_activity', 'availability_relativecompletion') + '</option>' +\r","            '</select></label></span>';\r","\t}\r","\t\r","\tif (this.cms.length > 0) {\r","\t\tvar cm = this.cms[0];\r","\t\tif (!this.isSection) {\r","\t\t\thtml += '<br>' + M.util.get_string('current_previous_activity', 'availability_relativecompletion') + ': ' + cm.name; \r","\t\t} else {\r","\t\t\thtml += '<br>' + M.util.get_string('current_previous_section', 'availability_relativecompletion') + ': ' + cm.name; \r","\t\t}\r","\t} else { // there is no previous section or activity at the moment\r","\t\tif (!this.isSection) {\r","\t\t\tif (!this.isNewActivity) {\r","\t\t\t\thtml += '<br>' + M.util.get_string('no_current_previous_activity', 'availability_relativecompletion'); \r","\t\t\t} else {\r","\t\t\t\thtml += '<br>' + M.util.get_string('creation_new_activity', 'availability_relativecompletion');\r","\t\t\t}\r","\t\t} else {\r","\t\t\thtml += '<br>' + M.util.get_string('no_current_previous_section', 'availability_relativecompletion');\r","\t\t}\r","\t}\r","    \r","\tvar node = Y.Node.create('<span class=\"form-inline\">' + html + '</span>');\r","\r","\tif (json.idtype !== undefined) {\r","        node.one('select[name=idtype]').set('value', '' + json.idtype);\r","    }\r","\t\r","    if (json.e !== undefined) {\r","        node.one('select[name=e]').set('value', '' + json.e);\r","    }\r","\t\r","    // Add event handlers (first time only).\r","    if (!M.availability_relativecompletion.form.addedEvents) {\r","        M.availability_relativecompletion.form.addedEvents = true;\r","        var root = Y.one('.availability-field');\r","        root.delegate('change', function() {\r","            // Whichever dropdown changed, just update the form.\r","            M.core_availability.form.update();\r","        }, '.availability_relativecompletion select');\r","    }\r","\t\r","    return node;\r","};\r","\r","M.availability_relativecompletion.form.fillValue = function(value, node) {\r","\tvalue.idtype = parseInt(node.one('select[name=idtype]').get('value'), 10);\r","    value.e = parseInt(node.one('select[name=e]').get('value'), 10);\r","};\r","","","}, '@VERSION@', {\"requires\": [\"base\", \"node\", \"event\", \"moodle-core_availability-form\"]});","","}());"]};
}
var __cov_2hDBiY4X3fy2LeQa$vYtwg = __coverage__['build/moodle-availability_relativecompletion-form/moodle-availability_relativecompletion-form.js'];
__cov_2hDBiY4X3fy2LeQa$vYtwg.s['1']++;YUI.add('moodle-availability_relativecompletion-form',function(Y,NAME){__cov_2hDBiY4X3fy2LeQa$vYtwg.f['1']++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['2']++;M.availability_relativecompletion=(__cov_2hDBiY4X3fy2LeQa$vYtwg.b['1'][0]++,M.availability_relativecompletion)||(__cov_2hDBiY4X3fy2LeQa$vYtwg.b['1'][1]++,{});__cov_2hDBiY4X3fy2LeQa$vYtwg.s['3']++;M.availability_relativecompletion.form=Y.Object(M.core_availability.plugin);__cov_2hDBiY4X3fy2LeQa$vYtwg.s['4']++;M.availability_relativecompletion.form.initInner=function(cms,isSection,isNewActivity){__cov_2hDBiY4X3fy2LeQa$vYtwg.f['2']++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['5']++;this.cms=cms;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['6']++;this.isSection=isSection;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['7']++;this.isNewActivity=isNewActivity;};__cov_2hDBiY4X3fy2LeQa$vYtwg.s['8']++;M.availability_relativecompletion.form.getNode=function(json){__cov_2hDBiY4X3fy2LeQa$vYtwg.f['3']++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['9']++;var html='<span class="col-form-label p-r-1"> '+M.util.get_string('title','availability_relativecompletion')+'</span>'+' <span class="availability-group form-group"><label>'+'<span class="accesshide">'+M.util.get_string('label_cm','availability_relativecompletion')+' </span>'+'<select class="custom-select" name="idtype" title="'+M.util.get_string('label_cm','availability_relativecompletion')+'">';__cov_2hDBiY4X3fy2LeQa$vYtwg.s['10']++;if(!this.isSection){__cov_2hDBiY4X3fy2LeQa$vYtwg.b['2'][0]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['11']++;html+='<option value="1">'+M.util.get_string('previous_activity','availability_relativecompletion')+'</option>';}else{__cov_2hDBiY4X3fy2LeQa$vYtwg.b['2'][1]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['12']++;html+='<option value="0">'+M.util.get_string('previous_section','availability_relativecompletion')+'</option>';}__cov_2hDBiY4X3fy2LeQa$vYtwg.s['13']++;if(!this.isSection){__cov_2hDBiY4X3fy2LeQa$vYtwg.b['3'][0]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['14']++;html+='</select></label> <label><span class="accesshide">'+M.util.get_string('label_completion','availability_relativecompletion')+' </span><select class="custom-select" '+'name="e" title="'+M.util.get_string('label_completion','availability_relativecompletion')+'">'+'<option value="1">'+M.util.get_string('option_complete','availability_relativecompletion')+'</option>'+'<option value="0">'+M.util.get_string('option_incomplete','availability_relativecompletion')+'</option>'+'<option value="2">'+M.util.get_string('option_pass','availability_relativecompletion')+'</option>'+'<option value="3">'+M.util.get_string('option_fail','availability_relativecompletion')+'</option>'+'</select></label></span>';}else{__cov_2hDBiY4X3fy2LeQa$vYtwg.b['3'][1]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['15']++;html+='</select></label> <label><span class="accesshide">'+M.util.get_string('label_completion','availability_relativecompletion')+' </span><select class="custom-select" '+'name="e" title="'+M.util.get_string('label_completion','availability_relativecompletion')+'">'+'<option value="0">'+M.util.get_string('all_activities','availability_relativecompletion')+'</option>'+'<option value="1">'+M.util.get_string('one_activity','availability_relativecompletion')+'</option>'+'</select></label></span>';}__cov_2hDBiY4X3fy2LeQa$vYtwg.s['16']++;if(this.cms.length>0){__cov_2hDBiY4X3fy2LeQa$vYtwg.b['4'][0]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['17']++;var cm=this.cms[0];__cov_2hDBiY4X3fy2LeQa$vYtwg.s['18']++;if(!this.isSection){__cov_2hDBiY4X3fy2LeQa$vYtwg.b['5'][0]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['19']++;html+='<br>'+M.util.get_string('current_previous_activity','availability_relativecompletion')+': '+cm.name;}else{__cov_2hDBiY4X3fy2LeQa$vYtwg.b['5'][1]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['20']++;html+='<br>'+M.util.get_string('current_previous_section','availability_relativecompletion')+': '+cm.name;}}else{__cov_2hDBiY4X3fy2LeQa$vYtwg.b['4'][1]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['21']++;if(!this.isSection){__cov_2hDBiY4X3fy2LeQa$vYtwg.b['6'][0]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['22']++;if(!this.isNewActivity){__cov_2hDBiY4X3fy2LeQa$vYtwg.b['7'][0]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['23']++;html+='<br>'+M.util.get_string('no_current_previous_activity','availability_relativecompletion');}else{__cov_2hDBiY4X3fy2LeQa$vYtwg.b['7'][1]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['24']++;html+='<br>'+M.util.get_string('creation_new_activity','availability_relativecompletion');}}else{__cov_2hDBiY4X3fy2LeQa$vYtwg.b['6'][1]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['25']++;html+='<br>'+M.util.get_string('no_current_previous_section','availability_relativecompletion');}}__cov_2hDBiY4X3fy2LeQa$vYtwg.s['26']++;var node=Y.Node.create('<span class="form-inline">'+html+'</span>');__cov_2hDBiY4X3fy2LeQa$vYtwg.s['27']++;if(json.idtype!==undefined){__cov_2hDBiY4X3fy2LeQa$vYtwg.b['8'][0]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['28']++;node.one('select[name=idtype]').set('value',''+json.idtype);}else{__cov_2hDBiY4X3fy2LeQa$vYtwg.b['8'][1]++;}__cov_2hDBiY4X3fy2LeQa$vYtwg.s['29']++;if(json.e!==undefined){__cov_2hDBiY4X3fy2LeQa$vYtwg.b['9'][0]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['30']++;node.one('select[name=e]').set('value',''+json.e);}else{__cov_2hDBiY4X3fy2LeQa$vYtwg.b['9'][1]++;}__cov_2hDBiY4X3fy2LeQa$vYtwg.s['31']++;if(!M.availability_relativecompletion.form.addedEvents){__cov_2hDBiY4X3fy2LeQa$vYtwg.b['10'][0]++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['32']++;M.availability_relativecompletion.form.addedEvents=true;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['33']++;var root=Y.one('.availability-field');__cov_2hDBiY4X3fy2LeQa$vYtwg.s['34']++;root.delegate('change',function(){__cov_2hDBiY4X3fy2LeQa$vYtwg.f['4']++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['35']++;M.core_availability.form.update();},'.availability_relativecompletion select');}else{__cov_2hDBiY4X3fy2LeQa$vYtwg.b['10'][1]++;}__cov_2hDBiY4X3fy2LeQa$vYtwg.s['36']++;return node;};__cov_2hDBiY4X3fy2LeQa$vYtwg.s['37']++;M.availability_relativecompletion.form.fillValue=function(value,node){__cov_2hDBiY4X3fy2LeQa$vYtwg.f['5']++;__cov_2hDBiY4X3fy2LeQa$vYtwg.s['38']++;value.idtype=parseInt(node.one('select[name=idtype]').get('value'),10);__cov_2hDBiY4X3fy2LeQa$vYtwg.s['39']++;value.e=parseInt(node.one('select[name=e]').get('value'),10);};},'@VERSION@',{'requires':['base','node','event','moodle-core_availability-form']});
